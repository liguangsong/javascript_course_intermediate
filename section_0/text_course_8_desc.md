作用域指的是名称(变量名与函数名)的有效范围.

JavaScrpit中有两种作用域:1.全局作用域 2.局部作用域
全局作用域是指在所有函数之外(即最外层代码)的作用域.在所有函数之外进行声明的变量或函数属于全局作用域,全局作用域中的变量就是全局变量,全局作用域中的函数就是全局函数.
局部作用域是指所有在函数的内部进行声明的变量或函数,这些变量(又称局部变量)或函数仅在该函数内部才有效.

    function f1(){
        var x = 1; 			//函数f1的局部变量 仅在函数f1内有效

        function f2(){
            var y = 2;		//函数f2的局部变量 仅在函数f2内有效
            console.log(x); //对函数f1的局部变量进行访问
            console.log(y); //对函数f2的局部变量进行访问
        }

        function f3(){
            console.log(x); //对函数f1的局部变量进行访问
            console.log(y); //如果不存在函数f1内的局部变量 y 或全局变量 y ,则会产生调用错误error.
        }

        f2();
        f3();
    }

运行结果:

    js > f1()
    1
    2
    1
    error: y is not defined

由于函数f2内的变量y只在该函数内有效,所以在同级的函数f3内不可用,又因为没有可供函数f3调用的变量 y,所以在函数f3内执行 console.log(y) 时,变量y被认为是没有定义的.
函数的参数变量在该函数内部也属于局部变量.

现在我们给上面的代码添加一个全局变量 var y = 0,那此时

    var y = 0;				//定义一个全局变量 y ,赋值为 0.
    function f1(){
        var x = 1;

        function f2(){
            var y = 2;		//定义一个全局变量 y ,赋值为 2.
            console.log(x);
            console.log(y); //此时局部变量y和全局变量y同时存在,将会访问谁??
        }

        function f3(){
            console.log(x);
            console.log(y); //对全局变量y进行访问.
        }

        f2();
        f3();
    }

运行结果:

    js > f1()
    1
    2
    1
    0

可见,当一个变量名既是局部变量又是全局变量时,会优先访问局部变量.也就是说,局部变量在其作用域内的优先级高于外层作用域的同名变量.
